---
const {Gameplay} = Astro.props;
function getId(url) {
    const regExp =
        /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
    const match = url.match(regExp);
    return match && match[2].length === 11 ? match[2] : null;
}
---

{Object.keys(Gameplay).map((key)=>{
    return(
    <div class="divIframe">
        <iframe
            width="100%"
            height="100%"
            src={`//www.youtube.com/embed/${getId(Gameplay[key])}`}
            loading="lazy"
            allowfullscreen
        />
    </div>
    )
})}

<style>
    .divIframe{
        display: flex;
        width: 100%;
        position:relative;
        aspect-ratio: 16/9;
    }
</style>
    



